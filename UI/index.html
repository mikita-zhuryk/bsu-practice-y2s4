<!DOCTYPE html>

<html>
    <head>
        <title>Insta-Like</title>
        <link rel="shortcut icon" type="image/x-icon" href="img/logo32.png" />
        <meta charset="utf-8"/>
        <link href="styles.css" type="text/css" rel="stylesheet"/>
        <script src="js/Post.js"></script>
        <script src="js/PostCollection.js"></script>
        <script src="js/View.js"></script>
        <script src="js/Controller.js"></script>
    </head>

    <body>
        <template id="template-post">
            <div class="photopost">
                <div class="user-handle">
                    <button class="user-button" onclick="document.getElementById('post-search').value = this.lastElementChild.innerText">
                        <img class="user-avatar" src="%back%/%username%/avatar.png"/>
                        <h4 class="username">DEFAULT_USERNAME</h4>
                    </button>
                </div>
                <div class="photo-container">
                    <img class="post-photo" src="DEFAULT_LINK" onclick="view.zoomPhoto(this)"/>
                </div>
                <div class="post-info">
                    <p class="post-text">DEFAULT_DESCRIPTION</p>
                    <p class="post-date" onclick="document.getElementById('post-search').value = this.innerHTML">DEFAULT_DATE</p>
                    <ul class="post-hashtags"></ul>
                </div>
                <div class="post-footer">
                    <div class="post-footer-buttons">
                        <button class="like-button" onclick="view.showMenu(); view.updateLikeCounter(this)">
                            <img class="like-button-img" src="img/like-button.png"/>
                        </button>
                        <input type="number" readonly="readonly" class="like-counter" value="0"/>
                        <button class="comment-button">
                            <p>Comment</p>
                        </button>
                        <button class="more-button" onclick="view.togglePostMore(this.parentNode.parentNode.parentNode)">
                            <img class="more-button-img" src="img/more-button.png"/>
                        </button>
                    </div>
                </div>
            </div>
        </template>
        <template id="template-hashtag">
            <li class="hashtag">
                <a onclick="document.getElementById('post-search').value = this.innerHTML"></a>
            </li>
        </template>
        <template id="template-comment">

        </template>
        <template id="template-zoom">
            <div class="zoomed-photo">
                <button onclick="view.unzoomPhoto()"><img src="img/cross.png"/></button>
                <img src="DEFAULT_LINK"/>
            </div>
        </template>
        <template id="template-menu-guest">
            <div class="definitely-not-menu" onclick="view.toggleMenu()"></div>
            <div class="menu" id="menu">
                <form name="login" target="%URL%">
                    <input type="text" id="username-input" placeholder="Username" form="login"/>
                    <input type="password" id="password-input" placeholder="Password" form="login"/>
                </form>
                <button type="submit" name="login" onclick="controller.login(); view.hideMenu()">Login</button>
            </div>
        </template>
        <template id="template-menu-user">
            <div class="definitely-not-menu" onclick="view.toggleMenu()"></div>
            <div class="menu" id="menu">
                <button class="log-out-button" onclick="controller.signOut(); view.hideMenu();">Sign out</button>
            </div>
        </template>

        <header>
            <div id="header-container">
                <button id="main-logo-button">
                    <img id="main-logo" src="img/logo.png"/>
                </button>
                <h1 id="main-name"><i>Insta-Like</i></h1>
                <button id="logged-user-avatar">
                    <img src="%back%/%logged-username%/avatar.png"/>
                </button>
                <button id="main-menu-button" onclick="view.toggleMenu()">
                    <img src="img/three-bars.png"/>
                </button>
            </div>
        </header>
        <main>
            <div class="feed" id="photofeed">
                <div id="feed-head">
                    <input type="text" id="post-search" placeholder="Search..." oninput="view.toggleSearchCrossButton(); view.search(this.value);"/>
                    <button id="clear-post-search" style="visibility: hidden" onclick="this.previousElementSibling.value = ''; view.toggleSearchCrossButton()">
                        <img src="img/cross.png"/>
                    </button>
                    <button id="add-photo-button" onclick="view.showNewPostUI()">+</button>
                </div>
                <div id="feed-main">
                </div>
                <button id="load-button">
                    <img id="load-button-img" src="img/load-button.png" alt="Load more posts" onclick="view.updateFeed()"/>
                </button>

            </div>
        </main>
        <footer>
            <div class="footer-container">
                <a id="footer-contact-button" href="mailto:mikita.zhuryk@gmail.com">Contact us</a>
                <a id="footer-help-button" href="%link_to_help%">Help</a>
                <span>
                    <p id="footer-disclaimer">All presented photos and data belong to their owners</p>
                    <p id="footer-sitename">Insta-Like Â© Nikita Zhurik FAMCS BSU (Year 2 Group 6)</p>
                    <p id="footer-last-change">Last change: 25.03.2019</p>
                </span>
            </div>
        </footer>
    </body>
</html>