<!DOCTYPE html>

<html>
    <head>
        <title>Insta-Like</title>
        <link rel="shortcut icon" type="image/x-icon" href="img/logo32.png" />
        <meta charset="utf-8"/>
        <link href="styles.css" type="text/css" rel="stylesheet"/>
    </head>

    <body>

        <template id="template-post">
            <div class="photopost">
                <div class="user-handle">
                    <button class="user-button" onclick="document.getElementById('post-search').value = this.lastElementChild.firstElementChild.innerText">
                        <img class="user-avatar" src="%back%/%username%/avatar.png"/>
                        <h4 class="username">
                            <i>DEFAULT_USERNAME</i>
                            <!--Here goes username from backend acquired by script during page load-->
                        </h4>
                    </button>
                </div>
                <div class="photo-container">
                    <!--<img class="post-photo" src="%back%/%username%/#%post-number%"/>-->
                    <img class="post-photo" src="DEFAULT_LINK" onclick="window.open(this.src)"/>
                </div>
                <div class="post-info">
                    <p class="post-text">
                        DEFAULT_DESCRIPTION
                    </p>
                    <ul class="post-hashtags">
                    </ul>
                    <p class="post-date" onclick="document.getElementById('post-search').value = this.innerHTML">DEFAULT_DATE</p>
                </div>
                <div class="post-footer">
                    <div class="post-footer-buttons">
                        <button class="like-button">
                            <img class="like-button-img" src="img/like-button.png" onclick="this.nextSibling.value += 1"/>
                            <input type="number" readonly="readonly" class="like-counter" value="0"/>
                        </button>
                        <button class="comment-button">
                            <p>Comment</p>
                        </button>
                        <button class="more-button">
                            <img class="more-button-img" src="img/more-button.png"/>
                        </button>
                    </div>
                </div>
            </div>
        </template>

        <template id="template-hashtag">
            <li class="hashtag">
                <a onclick="document.getElementById('post-search').value = this.innerHTML"></a>
            </li>
        </template>

        <template id="template-comment">

        </template>

        <script src="js/Post.js"></script>
        <script src="js/PostCollection.js"></script>
        <script src="js/Controller.js"></script>
        <header>
            <div id="header-container">
                <button id="main-logo-button">
                    <img id="main-logo" src="img/logo.png"/>
                </button>
                <h1 id="main-name"><i>Insta-Like</i></h1>
                <button id="logged-user-avatar">
                    <img src="%back%/%logged-username%/avatar.png"/>
                </button>
                <button id="main-menu">
                    <img src="img/three-bars.png"/>
                </button>
            </div>
        </header>
        <main>
            <div class="feed" id="photofeed">

                <div id="feed-head">
                    <input type="text" id="post-search" placeholder="Search..." onchange="if (this.value !== '') this.nextElementSibling.style.visibility = 'visible'"/>
                    <button id="clear-post-search" style="visibility: hidden" onclick="this.previousElementSibling.value = ''; this.style.visibility = 'hidden'">
                        <img src="img/cross.png"/>
                    </button>
                    <button id="add-photo-button">+</button>
                </div>
                
                <div id="feed-main">

                </div>

                <button id="load-button">
                    <img id="load-button-img" src="img/load-button.png" alt="Load more posts" onclick="posts.renderFeed(skip=this.parentNode.previousElementSibling.querySelectorAll('.photopost').length)"/>
                </button>

            </div>
        </main>
        <footer>
            <div class="footer-container">
                <a id="footer-contact-button" href="mailto:mikita.zhuryk@gmail.com">Contact us</a>
                <a id="footer-help-button" href="%link_to_help%">Help</a>
                <span>
                    <p id="footer-disclaimer">All presented photos and data belong to their owners</p>
                    <p id="footer-sitename">Insta-Like Â© Nikita Zhurik FAMCS BSU (Year 2 Group 6)</p>
                    <p id="footer-last-change">Last change: 24.03.2019</p>
                </span>
            </div>
        </footer>
    </body>
</html>